---
layout: project
title: "Juggler"
authors: >
  Project designed and written by
  <a href="https://twitter.com/huffeec" rel="author">Chris Huffee</a>
---
<div class="project-steps__info">
    <h3>Make a simple game with a Zip Halo</h3>
    <p>A Zip Halo is a ring of 24 lights that can be programmed to be any colour we like. In this project we will use the top half of the light ring to make a juggling game. Pressing the A and B buttons will be how the player juggles the ball.</p>
</div>
<div class="project-steps__info">
    <div class="row">
        <div class="col-sm-6">
            <p>For this project, you will need:</p>
            <ul class="project-materials">
                <li>1 &times; Microbit</li>
                <li>1 &times; Zip Halo</li>
                <li>2 &times; 4.5V battery box with jst connector</li>
            </ul>
        </div>
        <div class="col-sm-6">
            <a href="craft-001.jpg" target="_blank">
                <img src="http://via.placeholder.com/600x450" width="600" height="450" alt="" style="margin: 0">
            </a>
        </div>
    </div>
</div>
<div class="project-steps__info">
       <p>We need to add a new package to give us blocks to control the pixels. In advanced click on ‘Add package’. Search for ‘neopixel’ and add the package. This will add a new set of blocks called ‘Neopixel’</p>
       <a href="code-001.png" target="_blank">
          <img src="code-001.png" width="1200" height="600" alt="">
       </a>    
</div>

<hr>
<div class="project-steps__info">
       <h3>Arrays</h3>
       <p>There are twenty four lights or ‘pixels’ on our rings, in code we start counting at zero so the lights are numbered 0,1,2,3...23. We will only be using the top ones, numbers 1, 2, 3, 4, 5, 6, 7 and 19, 20, 21, 22, 23, 24. To help us keep track of the lights we are using we will use a new block called an array. An array is a variable that can hold a list instead of just one thing.</p>
       <img src="http://via.placeholder.com/600x450" width="600" height="450" alt="" style="margin: 0">      
</div>
<div class="project-steps__step">
    <p>Open this link to find today’s code. <a href="https://makecode.microbit.org/_Hyc3F4FP1F73">https://makecode.microbit.org/_Hyc3F4FP1F73</a></p>
    <p>This code already has a variable called pixel_number set to a ‘create array with’ block. We are going to use this to make a list of the pixels we need for our game in the order they are on the zip halo. </p>
</div>
<div class="project-steps__step">
    <p>We want to list all the pixels on the top of the board, starting with the one on the left and working round to the one on the right.</p>
    <p>Fill in the rest of the numbers in the array. Remember that we start counting at zero in code, but the numbers printed on the board start at one. So we will call the pixel labelled one as 0,  the one labelled 2 as 1 the last pixel labelled 24 will be 23 in our code.</p>
    <p>You should end up with an array that looks like this.</p>
    <img src="step-001.jpg" width="600" height="400" alt="">
</div>

<hr>
<div class="project-steps__info">
       <h3>Making the game</h3>
       <p></p>     
</div>
<div class="project-steps__step">
    <p>Create a variable called zip_halo, we’ll use this to set up the Zip Halo.</p>
    <p>Add a set zip_halo to block to your code.</p>
    <img src="step-002.jpg" width="600" height="104" alt="">
</div>
<div class="project-steps__step">
    <p>Add the block from Neopixels that starts ‘Neopixel at P0..’ and join this to the set zip_halo block. This block tells the microbit how many pixels our board has and which pin we are using to control it.</p> 
    <p>Your code should now look like this.</p>
    <img src="step-003.jpg" width="600" height="87" alt="">
</div>
<div class="project-steps__step">
    <p>We will start the game by pressing A+B so get an ‘On button A+B pressed' block.</p> 
</div>
<div class="project-steps__step">
    <p>Create two new variables called; ‘position’ and ‘direction’.</p>
    <p>Position will remember where our ball is. We will start at 0, the first position on our list.</p>
    <p>Direction is what we use to remember which way it’s moving. This will either be 1 if the ball is moving left to right, or -1 if the ball is moving right to left.</p>
</div>
<div class="project-steps__step">
    <p>Add set blocks for these new variables to the ‘On button A+B' block.</p>
    <img src="step-004.jpg" width="600" height="288" alt="">
<div class="project-steps__step">
    <p>Next add a ‘While’ block from loops. This loop will keep running the code we add to the ‘do’ part over and over as long as the code we add to the ‘while’ part is true.</p>
    <img src="step-005.jpg" width="600" height="408" alt="">
</div>
<div class="project-steps__info">
       <p>In our game we want to light the first pixel in our array, wait for a little bit and then turn it off and light the next one. If we keep doing this it will look like the light is moving across the board. We want to keep doing it until we get to the end of our list.</p>
</div>
<div class="project-steps__step">
    <p>In the while part of the loop add this code.</p>
    <img src="step-006.jpg" width="600" height="140" alt="">
    <p>This checks that the value stored in ‘position’ isn’t bigger than the number of items in our list or smaller than 0.</p>
</div>
<div class="project-steps__info">
    <p>Now in the ‘Do’ part add some blocks to control the neopixels. They will all need to be set to zip_halo instead of item so the code knows to use the lights we set up in the 'On start block'.</p>
</div>
<div class="project-steps__step">
    <p>First add a clear block to turn all the lights off</p>
    <img src="step-007.jpg" width="600" height="340" alt="">
</div>
<div class="project-steps__step">
    <p>Then add a 'Set pixel colour at' block, you can set this to any colour you like.</p>
    <p>The pixel number should be the value stored in our ‘pixel_number’ list at the number place stored in our 'position' variable.</p>
    <p>Use a ‘Get value at’ block from arrays and set it up like this.</p>
    <img src="step-008.jpg" width="600" height="112" alt="">
</div>
<div class="project-steps__step">
    <p>Next add two more set pixel blocks, set them to 17 and 7, these will be your hands when you are juggling. They can be any colour you like but should be different to your ball.
</p>
    <img src="step-009.jpg" width="600" height="192" alt="">
</div>
<div class="project-steps__step">
    <p>Finally add a show block to turn on the lights we have just set up.</p>
    <img src="step-010.jpg" width="600" height="156" alt="">
<div class="project-steps__step">
    <p>At the end of the While section add a ‘change’ block from variables. Use this to change the value stored in ‘position’ by the number stored in ‘direction’.</p>
    <p>We will also need a pause 500 block at the end of this loop to stop the ball moving too quickly.</p>
    <img src="step-011.jpg" width="600" height="230" alt="">
</div>

<div class="project-steps__info">
    <p>Download this code to your microbit and see what happens.</p>
    <p>The board should show lights starting at the left and moving across to the right and then stop.</p>
</div>

<hr>
<div class="project-steps__info">
    <p>So now all we need to do is add some controls to tell the game when to juggle. We’ll use the A and B buttons for this.</p>
</div>
<div class="project-steps__step">
    <p>'Add an On button A pressed block.'</p>
    <img src="step-012.jpg" width="600" height="226" alt="">
</div>
<div class="project-steps__step">
    <p>Next add an If block, use a block from ‘Logic’ to check if ‘position’ equals 0.</p>
    <p>Here we are making sure the ball is next to the hand when the button is pressed.</p>
    <img src="step-013.jpg" width="600" height="266" alt="">
</div>
<div class="project-steps__step">
    <p>Inside the if block change the value stored in direction to 1.</p>
    <img src="step-014.jpg" width="600" height="262" alt="">
</div>
<div class="project-steps__step">
    <p>Duplicate all this code for on button b pressed but this time check if position equals one less than the length of the array. If it is change the value in direction to -1.</p>
    <img src="step-014.jpg" width="600" height="139" alt="">
</div>
<div class="project-steps__info">
    <p>Download this code to your Microbit.</p>
    <p>Pressing the A or B buttons when the ball is next to the hand should make it juggle.</p>
</div>

<hr>
<div class="project-steps__info">
    <h3>Extension</h3>
    <p>You can make your Microbit juggle, but it's not really a game yet.</p>
</div>
<div class="project-steps__step">
    <p>Add some code after the while loop, this will run if the player drops the ball.</p>
    <p>You can write a message to the screen, or flash the lights</p>
    <img src="step-015.jpg" width="600" height="277" alt="">
</div>
<div class="project-steps__step">
    <p>Can you add a score that increases by one every time you succesfully juggle the ball?</p>
</div>
<div class="project-steps__step">
    <p>What about adding code to increase the speed of the ball slightly every time you score a point?</p>
</div>






 

